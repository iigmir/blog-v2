import"https://cdn.jsdelivr.net/npm/temporal-polyfill/dist/global.js";class DateStore{date="";current_timezone="";source_date=null;timezone_date=null;constructor(t="2020-06-13T00:05:11+08:00[Asia/Taipei]",e="Etc/UTC"){this.date=t,this.current_timezone=e,this.set_temporal_obj()}set_temporal_obj(){this.source_date=Temporal.Instant.from(this.date??new Date),this.timezone_date=Temporal.TimeZone.from(this.current_timezone)}get result(){return this.source_date.toZonedDateTimeISO(this.timezone_date).toLocaleString(navigator.language,{hour12:!1})}}export class IDateComponentElement extends HTMLElement{constructor(){super()}get title(){return this.hasAttribute("data-title")?this.getAttribute("data-title"):"Date: "}get date(){return this.hasAttribute("data-date")?this.getAttribute("data-date"):"Unknown date"}date_store=null;get classes(){return this.hasAttribute("data-classes")?this.getAttribute("data-classes"):"date"}get timezone(){return this.hasAttribute("data-timezone")?this.getAttribute("data-timezone"):"Etc/UTC"}connectedCallback(){this.date_store=new DateStore(this.date,this.timezone);this.attachShadow({mode:"open"}).appendChild(this.wrapper_element())}wrapper_element(){const t=document.createElement("span");return t.setAttribute("title",`Source date: ${this.date}`),t.classList.add("date-component"),t.textContent=this.title,t.appendChild(this.time_element(this.classes,this.date)),t}time_element(){const t=document.createElement("time");return t.setAttribute("class",this.classes),t.setAttribute("datetime",this.date),t.textContent=this.date_store.result,t}}